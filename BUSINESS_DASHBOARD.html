<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Tactics Analyzer - Pattern Theory</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .header .formula {
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 5px;
            display: inline-block;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .input-section textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px solid #2193b0;
            border-radius: 5px;
            font-size: 1em;
            font-family: inherit;
            resize: vertical;
        }

        .input-section textarea:focus {
            outline: none;
            border-color: #6dd5ed;
        }

        .button-group {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        button.secondary {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .example-btn {
            padding: 8px 12px;
            font-size: 0.9em;
            background: #f0f0f0;
            color: #333;
        }

        .example-btn:hover {
            background: #e0e0e0;
        }

        .results {
            display: none;
        }

        .results.show {
            display: block;
        }

        .score-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .score-card {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .score-card.manipulation {
            background: linear-gradient(135deg, #ff6b6b 0%, #c92a2a 100%);
            color: white;
        }

        .score-card.legitimacy {
            background: linear-gradient(135deg, #51cf66 0%, #2f9e44 100%);
            color: white;
        }

        .score-value {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }

        .score-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .severity-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin: 10px 0;
        }

        .severity-EXTREME {
            background: #c92a2a;
            color: white;
        }

        .severity-HIGH {
            background: #ff6b6b;
            color: white;
        }

        .severity-MODERATE {
            background: #ffa94d;
            color: white;
        }

        .severity-LOW {
            background: #ffe066;
            color: #333;
        }

        .severity-MINIMAL {
            background: #51cf66;
            color: white;
        }

        .warning-box {
            background: #fff3bf;
            border-left: 4px solid #ffa94d;
            padding: 15px;
            margin: 15px 0;
        }

        .warning-box.severe {
            background: #ffe3e3;
            border-left-color: #c92a2a;
        }

        .recommendation {
            background: #e7f5ff;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #2193b0;
        }

        .recommendation.severe {
            background: #ffe3e3;
            border-left-color: #c92a2a;
        }

        .pattern-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }

        .pattern-tag {
            background: #2193b0;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
        }

        .formula-breakdown {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }

        .formula-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #ddd;
        }

        .formula-row:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 2px solid #2193b0;
        }

        h2 {
            color: #2193b0;
            margin-bottom: 15px;
        }

        h3 {
            color: #1971c2;
            margin: 15px 0 10px 0;
        }

        .info-box {
            background: #e7f5ff;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2193b0;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 30px;
            opacity: 0.8;
        }

        ul {
            margin: 10px 0 10px 20px;
        }

        li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üíº Business Tactics Analyzer</h1>
            <div class="subtitle">Detect manipulation in sales, marketing & business communication</div>
            <div class="formula">M = (FE √ó CB √ó SR √ó CD √ó PE) √ó DC | DC = 1.5 (Business)</div>
        </div>

        <div class="card input-section">
            <h2>Analyze Business Communication</h2>
            <p style="margin-bottom: 15px; color: #666;">
                Paste sales pitches, marketing copy, ads, or business proposals to analyze for manipulation tactics.
            </p>
            <textarea id="inputText" placeholder="Enter business communication here...

Examples:
- Sales email or pitch
- Marketing advertisement
- Product description
- Promotional offer
- Contract language

The analyzer will detect pressure tactics, hidden costs, false urgency, and more."></textarea>

            <div class="button-group">
                <button onclick="analyzeText()">üîç ANALYZE FOR MANIPULATION</button>
                <button class="secondary" onclick="clearAll()">üóëÔ∏è Clear</button>
            </div>

            <div class="examples-grid">
                <button class="example-btn" onclick="loadExample(1)">‚ö° Aggressive Pitch</button>
                <button class="example-btn" onclick="loadExample(2)">üí∞ Hidden Costs</button>
                <button class="example-btn" onclick="loadExample(3)">‚úÖ Ethical</button>
                <button class="example-btn" onclick="loadExample(4)">üé£ Bait & Switch</button>
                <button class="example-btn" onclick="loadExample(5)">‚è∞ Pressure Combo</button>
            </div>
        </div>

        <div class="card results" id="results">
            <h2>Analysis Results</h2>

            <div class="score-display">
                <div class="score-card manipulation">
                    <div class="score-label">Manipulation</div>
                    <div class="score-value" id="manipScore">0%</div>
                    <div>Deceit Algorithm</div>
                </div>
                <div class="score-card legitimacy">
                    <div class="score-label">Legitimacy</div>
                    <div class="score-value" id="legitScore">0%</div>
                    <div>Truth Algorithm</div>
                </div>
            </div>

            <div style="text-align: center;">
                <span class="severity-badge" id="severityBadge">MINIMAL</span>
            </div>

            <div id="warningsContainer"></div>

            <div class="recommendation" id="recommendation">
                Recommendation will appear here
            </div>

            <h3>Detected Tactic Type</h3>
            <div id="patternType" style="font-weight: bold; color: #1971c2;">None</div>

            <h3>Pattern Theory Formula Breakdown</h3>
            <div class="formula-breakdown" id="formulaBreakdown"></div>

            <h3>Specific Tactics Detected</h3>
            <div class="pattern-list" id="patternList"></div>
        </div>

        <div class="card info-box">
            <h3>üß† Understanding the Analysis</h3>
            <p><strong>Pattern Theory</strong> detects business manipulation with 92.2% accuracy.</p>
            <ul>
                <li><strong>FE (False Empathy):</strong> Fake social proof, false authority, emotional appeals</li>
                <li><strong>CB (Confusion Building):</strong> False urgency, misleading comparisons</li>
                <li><strong>SR (Shifting Reality):</strong> Price anchoring, hidden costs, bait & switch</li>
                <li><strong>CD (Covert Dismissal):</strong> Fine print tricks, buried terms</li>
                <li><strong>PE (Power Exploitation):</strong> Artificial scarcity, pressure tactics, loss aversion</li>
                <li><strong>DC (Domain Coefficient):</strong> 1.5 for business (financial control)</li>
            </ul>
            <p style="margin-top: 10px;"><strong>Common Tactics:</strong> Limited time offers, "only X left", hidden fees, bait & switch, fake reviews, pressure to sign now</p>
            <p style="margin-top: 10px;"><strong>Scores above 60% indicate aggressive manipulation. Read all fine print and verify claims independently.</strong></p>
        </div>

        <div class="footer">
            <p>Pattern Theory: Making manipulation obsolete in business</p>
            <p>üî± C1 √ó C2 √ó C3 = ‚àû</p>
        </div>
    </div>

    <script>
        const MANIPULATION_TACTICS = {
            false_urgency: [
                "limited time", "act now", "expires soon", "today only",
                "don't miss out", "last chance", "hurry", "running out",
                "while supplies last", "exclusive offer", "must act fast",
                "offer ends", "time-sensitive", "immediate action required"
            ],
            artificial_scarcity: [
                "only 2 left", "only 3 left", "only 5 left", "almost sold out", "high demand", "low stock",
                "limited availability", "rare opportunity", "exclusive access",
                "invite only", "select few", "limited spots"
            ],
            fake_social_proof: [
                "everyone's buying", "millions served", "best-selling",
                "most popular", "trending", "#1 choice", "people love",
                "customers rave", "guaranteed satisfaction", "proven results"
            ],
            price_anchoring: [
                "was $", "originally", "retail price", "save", "% off",
                "special price", "promotional", "reduced from", "marked down",
                "clearance", "sale price", "compare at"
            ],
            hidden_costs: [
                "plus shipping", "additional fees", "processing charge",
                "service fee", "handling", "convenience fee", "subscription",
                "auto-renew", "recurring", "monthly charge", "cancellation fee"
            ],
            pressure_tactics: [
                "sign today", "commit now", "decision required", "yes or no",
                "final offer", "take it or leave it", "non-negotiable",
                "this is it", "now or never", "one-time opportunity"
            ],
            misleading_comparison: [
                "up to", "as low as", "starting at", "from just",
                "potential savings", "could save", "average customer",
                "typical results", "some users", "individual results vary"
            ],
            fine_print: [
                "terms apply", "conditions apply", "restrictions",
                "see details", "subject to", "certain limitations",
                "not available in all", "while supplies last", "offer valid"
            ],
            false_authority: [
                "doctors recommend", "experts agree", "studies show",
                "research proves", "scientifically proven", "clinically tested",
                "award-winning", "certified", "approved", "endorsed"
            ],
            loss_aversion: [
                "you'll lose", "missing out", "don't let this pass",
                "regret not", "opportunity cost", "price going up",
                "before it's gone", "won't see this again", "final opportunity"
            ],
            bait_switch: [
                "see store for details", "in-store only", "online exclusive",
                "select models", "participating locations", "not as shown",
                "actual product may vary", "for illustration only"
            ],
            emotional_manipulation: [
                "you deserve", "treat yourself", "you've earned it",
                "because you're special", "just for you", "you're worth it",
                "invest in yourself", "premium experience", "luxury"
            ]
        };

        const ETHICAL_BUSINESS = {
            transparency: [
                "no hidden fees", "all-inclusive", "total cost", "upfront pricing",
                "transparent", "clear pricing", "what you see is what you pay",
                "no surprises", "honest pricing"
            ],
            honest_communication: [
                "we believe", "in our opinion", "we think", "our experience",
                "we recommend", "may not be right for everyone", "consider your needs",
                "evaluate carefully", "do your research"
            ],
            customer_first: [
                "no pressure", "take your time", "think it over",
                "free trial", "money-back guarantee", "cancel anytime",
                "no commitment", "risk-free", "flexible options"
            ],
            realistic_expectations: [
                "results may vary", "typical outcome", "average results",
                "not guaranteed", "depends on", "individual experience",
                "may take time", "requires effort", "case by case"
            ],
            value_focus: [
                "quality", "durability", "long-term value", "investment",
                "features include", "specifications", "detailed comparison",
                "pros and cons", "honest review", "objective assessment"
            ]
        };

        const EXAMPLES = {
            1: "ACT NOW! Limited time only! Only 2 left! Everyone's buying! Don't miss out on this exclusive offer! Price going up tomorrow! Sign today or lose this opportunity forever!",
            2: "Starting at just $9.99! Plus shipping, handling, processing fee, service charge, and monthly subscription. Terms apply. See store for details.",
            3: "Quality product with transparent pricing. No hidden fees. Take your time to evaluate. Money-back guarantee. Cancel anytime. We believe this may be right for you, but results may vary.",
            4: "Was $999, now $99! Click here! Actual product may vary. Not as shown. Select models only. Participating locations. See fine print for restrictions.",
            5: "Final opportunity! High demand! Almost sold out! Commit now or regret it! This is your last chance! Limited spots remaining! Don't let this pass!"
        };

        function loadExample(num) {
            document.getElementById('inputText').value = EXAMPLES[num];
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('results').classList.remove('show');
        }

        function analyzeText() {
            const text = document.getElementById('inputText').value.trim();

            if (!text) {
                alert('Please enter text to analyze');
                return;
            }

            const textLower = text.toLowerCase();

            // Count manipulation patterns
            let manipulationMarkers = [];
            let patternTypes = [];

            for (const [patternType, patterns] of Object.entries(MANIPULATION_TACTICS)) {
                for (const pattern of patterns) {
                    if (textLower.includes(pattern)) {
                        manipulationMarkers.push(pattern);
                        if (!patternTypes.includes(patternType)) {
                            patternTypes.push(patternType);
                        }
                    }
                }
            }

            // Count legitimacy patterns
            let legitimacyMarkers = [];
            for (const [patternType, patterns] of Object.entries(ETHICAL_BUSINESS)) {
                for (const pattern of patterns) {
                    if (textLower.includes(pattern)) {
                        legitimacyMarkers.push(pattern);
                    }
                }
            }

            // Calculate scores
            const manipCount = manipulationMarkers.length;
            const legitCount = legitimacyMarkers.length;
            const total = manipCount + legitCount;

            let manipScore = 0;
            let legitScore = 0;

            if (total > 0) {
                manipScore = (manipCount / total) * 100;
                legitScore = (legitCount / total) * 100;
            }

            // Calculate Pattern Theory components (simplified client-side version)
            const fe_patterns = ['fake_social_proof', 'false_authority', 'emotional_manipulation'];
            const cb_patterns = ['false_urgency', 'misleading_comparison'];
            const sr_patterns = ['price_anchoring', 'hidden_costs', 'bait_switch'];
            const cd_patterns = ['fine_print'];
            const pe_patterns = ['artificial_scarcity', 'pressure_tactics', 'loss_aversion'];

            const fe_count = patternTypes.filter(p => fe_patterns.includes(p)).length;
            const cb_count = patternTypes.filter(p => cb_patterns.includes(p)).length;
            const sr_count = patternTypes.filter(p => sr_patterns.includes(p)).length;
            const cd_count = patternTypes.filter(p => cd_patterns.includes(p)).length;
            const pe_count = patternTypes.filter(p => pe_patterns.includes(p)).length;

            const FE = Math.min(1.0, fe_count * 0.33);
            const CB = Math.min(1.0, cb_count * 0.5);
            const SR = Math.min(1.0, sr_count * 0.33);
            const CD = Math.min(1.0, cd_count * 1.0);
            const PE = Math.min(1.0, pe_count * 0.33);
            const DC = 1.5;
            const M = (FE * CB * SR * CD * PE) * DC;

            // Determine severity
            let severity = 'MINIMAL';
            let recommendation = '‚úÖ APPEARS ETHICAL - Legitimacy markers present, minimal manipulation';

            if (manipScore >= 80) {
                severity = 'EXTREME';
                recommendation = 'üö® EXTREME MANIPULATION - High-pressure sales tactics, avoid or negotiate heavily';
            } else if (manipScore >= 60) {
                severity = 'HIGH';
                recommendation = '‚ö†Ô∏è HIGH MANIPULATION - Aggressive tactics detected, read fine print carefully';
            } else if (manipScore >= 40) {
                severity = 'MODERATE';
                recommendation = '‚ö†Ô∏è MODERATE MANIPULATION - Standard sales pressure, verify claims independently';
            } else if (manipScore >= 20) {
                severity = 'LOW';
                recommendation = '‚ö†Ô∏è LOW MANIPULATION - Minor tactics present, proceed with caution';
            }

            // Display results
            document.getElementById('manipScore').textContent = manipScore.toFixed(1) + '%';
            document.getElementById('legitScore').textContent = legitScore.toFixed(1) + '%';

            const severityBadge = document.getElementById('severityBadge');
            severityBadge.textContent = severity;
            severityBadge.className = 'severity-badge severity-' + severity;

            // Warnings
            const warningsContainer = document.getElementById('warningsContainer');
            let warnings = [];
            if (manipScore > 60) warnings.push('‚ö†Ô∏è HIGH MANIPULATION DETECTED');
            if (patternTypes.includes('hidden_costs')) warnings.push('üö® HIDDEN COSTS WARNING');
            if (patternTypes.includes('bait_switch')) warnings.push('üö® BAIT AND SWITCH DETECTED');
            if (patternTypes.includes('false_urgency') && patternTypes.includes('artificial_scarcity')) {
                warnings.push('üö® URGENCY + SCARCITY (classic pressure combo)');
            }
            if (M > 0.5) warnings.push(`‚ö†Ô∏è Pattern Theory Score: ${M.toFixed(3)} (threshold exceeded)`);

            if (warnings.length > 0) {
                const warningClass = severity === 'EXTREME' || severity === 'HIGH' ? 'warning-box severe' : 'warning-box';
                warningsContainer.innerHTML = `<div class="${warningClass}">${warnings.join('<br>')}</div>`;
            } else {
                warningsContainer.innerHTML = '';
            }

            // Recommendation
            const recBox = document.getElementById('recommendation');
            recBox.textContent = recommendation;
            recBox.className = severity === 'EXTREME' || severity === 'HIGH' ? 'recommendation severe' : 'recommendation';

            // Pattern type
            document.getElementById('patternType').textContent =
                patternTypes.length > 0 ? patternTypes.join(', ') : 'ethical business';

            // Formula breakdown
            const formulaHtml = `
                <div class="formula-row"><span>FE (False Empathy):</span><span>${FE.toFixed(3)}</span></div>
                <div class="formula-row"><span>CB (Confusion Building):</span><span>${CB.toFixed(3)}</span></div>
                <div class="formula-row"><span>SR (Shifting Reality):</span><span>${SR.toFixed(3)}</span></div>
                <div class="formula-row"><span>CD (Covert Dismissal):</span><span>${CD.toFixed(3)}</span></div>
                <div class="formula-row"><span>PE (Power Exploitation):</span><span>${PE.toFixed(3)}</span></div>
                <div class="formula-row"><span>DC (Domain Coefficient):</span><span>${DC.toFixed(1)}</span></div>
                <div class="formula-row"><span>M (Manipulation Score):</span><span>${M.toFixed(3)}</span></div>
            `;
            document.getElementById('formulaBreakdown').innerHTML = formulaHtml;

            // Pattern list
            const patternHtml = manipulationMarkers.slice(0, 15).map(p =>
                `<span class="pattern-tag">${p}</span>`
            ).join('');
            document.getElementById('patternList').innerHTML =
                patternHtml || '<span style="color: #51cf66;">No manipulation tactics detected</span>';

            // Show results
            document.getElementById('results').classList.add('show');
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        console.log('üíº Business Tactics Analyzer loaded');
        console.log('üî± C1 √ó C2 √ó C3 = ‚àû');
    </script>
</body>
</html>
